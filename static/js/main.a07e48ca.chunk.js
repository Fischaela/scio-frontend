(this["webpackJsonpa-scio-frontend"]=this["webpackJsonpa-scio-frontend"]||[]).push([[0],{162:function(e,t,a){e.exports=a(338)},171:function(e,t,a){},172:function(e,t,a){},178:function(e,t,a){},187:function(e,t,a){},251:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),s=a.n(o),i=a(46),c=a(146),l=a(96);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(157),m=a(45);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={bookmarks:null,bookmarksState:"UNDEFINED",newBookmarkState:"UNDEFINED"},k=function(e){var t=[];if(e.Bookmarks&&e.Bookmarks.bookmarks){var a=!0,n=!1,r=void 0;try{for(var o,s=e.Bookmarks.bookmarks[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var i=o.value,c=!0,l=!1,m=void 0;try{for(var h,p=i.tags[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var d=h.value;t.push(d)}}catch(k){l=!0,m=k}finally{try{c||null==p.return||p.return()}finally{if(l)throw m}}}}catch(k){n=!0,r=k}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}t=Object(u.a)(new Set(t))}return t},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BOOKMARK_REQUEST":return p({},e,{newBookmarkState:"CREATE_BOOKMARK_IN_PROGRESS"});case"CREATE_BOOKMARK_SUCCESS":return p({},e,{newBookmarkState:"CREATE_BOOKMARK_SUCCESS"});case"CREATE_BOOKMARK_ERROR":return p({},e,{newBookmarkState:"CREATE_BOOKMARK_ERROR"});case"GET_BOOKMARKS_REQUEST":return p({},e,{bookmarksState:"GETTING_BOOKMARKS_IN_PROGRESS"});case"GET_BOOKMARKS_SUCCESS":return p({},e,{bookmarksState:"GETTING_BOOKMARKS_SUCCESS",bookmarks:t.payload});case"GET_BOOKMARKS_ERROR":return p({},e,{bookmarksState:"GETTING_BOOKMARKS_ERROR"});default:return p({},e)}},O="https://shortcut.io";function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={state:"UNKNOWN"},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALISE_SESSION":var a="UNKNOWN";return"LOGGED_IN"===localStorage.getItem("SCIO")&&(a="LOGGED_IN"),S({},e,{state:a});case"LOGIN_SUCCESS":return S({},e,{state:"LOGGED_IN"});case"LOGIN_REQUEST":return S({},e,{state:"LOGIN_IN_PROGRESS"});case"LOGOUT_SUCCESS":return localStorage.setItem("SCIO","LOGGED_OUT"),S({},e,{state:"LOGGED_OUT"});case"REGISTER_SUCCESS":return S({},e,{state:"REGISTER_SUCCESS"});case"REGISTER_REQUEST":return S({},e,{state:"REGISTRATION_IN_PROGRESS"});case"SESSION_ERROR":return S({},e,{state:"INVALID"});case"SET_SESSION_STATE":return S({},e,{state:t.payload});default:return S({},e)}},_=Object(i.c)({Bookmarks:E,Session:b}),y=(a(171),a(32)),R=a(33),v=a(35),w=a(34),C=a(37),N=(a(172),function(){return function(e){return e({type:"GET_BOOKMARKS_REQUEST"}),fetch("".concat(O,"/shortcuts"),{"cache-control":"no-cache",credentials:"include",method:"GET"}).then((function(e){return e.json()})).then((function(t){return console.log(t),e(function(e){return{payload:e,type:"GET_BOOKMARKS_SUCCESS"}}(t))})).catch((function(t){console.log(t),e({type:"GET_BOOKMARKS_ERROR"})}))}}),I=function(e){return{payload:e,type:"SESSION_ERROR"}},T=(a(76),a(22)),B=(a(174),a(156)),j=a(47),G=(a(176),a(74)),K=(a(178),a(339),a(155)),L=(a(182),a(158)),U=(a(145),a(71)),A=(a(187),U.a.Paragraph),D=function(e){function t(){return Object(y.a)(this,t),Object(v.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(K.a,{onClick:function(t){return e.props.handleClick(t,e.props.data)},className:"card",hoverable:!0,cover:r.a.createElement("div",{alt:"example",className:"card__cover",style:this.props.data.screenshot_id?{backgroundImage:"url(".concat(this.props.data.screenshot_id,")")}:{backgroundImage:"none"}})},r.a.createElement("p",{className:"card__title"},this.props.data.title),r.a.createElement("p",{className:"card__description"},this.props.data.description),r.a.createElement(A,{copyable:!0,className:"card__url"},this.props.data.url),this.props.data.tags.map((function(e){return r.a.createElement(L.a,{color:"magenta",key:e},e)})))}}]),t}(n.Component),P=(a(340),a(126)),M=(a(141),a(26)),x=(a(100),a(50)),Q=(a(251),function(e){function t(){return Object(y.a)(this,t),Object(v.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{layout:"vertical"},r.a.createElement(M.a.Item,{label:"URL"},r.a.createElement(x.a,{onChange:function(t){return e.props.handleChange(t,"newBookmarkUrl")},value:this.props.bookmark.url||""})),r.a.createElement(M.a.Item,{label:"Title"},r.a.createElement(x.a,{onChange:function(t){return e.props.handleChange(t,"newBookmarkTitle")},value:this.props.bookmark.title||""})),r.a.createElement(M.a.Item,{label:"Description"},r.a.createElement(x.a,{onChange:function(t){return e.props.handleChange(t,"newBookmarkDescription")},value:this.props.bookmark.description||""})),r.a.createElement(M.a.Item,{label:"Tags"},r.a.createElement(P.a,{mode:"tags",placeholder:"Select tags",value:this.props.selectedItems,onChange:this.props.handleTagChange,style:{width:"100%"}},this.props.filteredOptions.map((function(e){return r.a.createElement(P.a.Option,{key:e,value:e},e)})))))}}]),t}(n.Component)),V=G.a.Header,W=G.a.Content,J=G.a.Footer,F=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(v.a)(this,Object(w.a)(t).call(this,e))).handleCancel=function(e){a.setState({modalVisible:!1})},a.handleTagChange=function(e){a.setState({selectedItems:e})},a.handleOk=function(e){e.preventDefault(),a.setState({confirmLoading:!0}),a.props.addBookmark({description:a.state.newBookmarkDescription,title:a.state.newBookmarkTitle,url:a.state.newBookmarkUrl,tags:a.state.selectedItems}),setTimeout((function(){a.setState({confirmLoading:!1,modalVisible:!1,newBookmarkDescription:"",newBookmarkTitle:"",newBookmarkUrl:"",selectedItems:[]})}),500)},a.showModal=function(){a.setState({modalVisible:!0})},a.state={confirmLoading:!1,modalVisible:!1,selectedItems:[],selectedTags:[],newBookmarkDescription:"",newBookmarkTitle:"",newBookmarkUrl:""},a.handleNewBookmarkChange=a.handleNewBookmarkChange.bind(Object(j.a)(a)),a}return Object(C.a)(t,e),Object(R.a)(t,[{key:"handleBookmarkClick",value:function(e,t){window.open(t.url,"_blank")}},{key:"handleNewBookmarkChange",value:function(e,t){this.setState(Object(m.a)({},t,e.target.value))}},{key:"render",value:function(){var e=this,t=this.props.tags.filter((function(t){return!e.state.selectedTags.includes(t)}));return r.a.createElement(G.a,{className:"layout"},r.a.createElement(B.a,{confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,onOk:this.handleOk,title:"Add new bookmark",visible:this.state.modalVisible},r.a.createElement(Q,{filteredOptions:t,handleTagChange:this.handleTagChange,selectedItems:this.state.selectedItems,handleChange:this.handleNewBookmarkChange,bookmark:{description:this.state.newBookmarkDescription,title:this.state.newBookmarkTitle,url:this.state.newBookmarkUrl,tags:this.state.selectedItems}})),r.a.createElement(V,{className:"header"},r.a.createElement(T.a,{type:"primary",onClick:this.showModal},"New Bookmark"),r.a.createElement(T.a,{type:"primary",onClick:this.props.logout},"Logout")),r.a.createElement(W,null,this.props.bookmarks&&r.a.createElement("section",{className:"cards"},this.props.bookmarks.map((function(t){return r.a.createElement(D,{handleClick:e.handleBookmarkClick,data:t,key:t.id})})))),r.a.createElement(J,{className:"footer"},"Shortcut.io \xa9 2019 | ",r.a.createElement("a",{href:"/imprint"},"Imprint")))}}]),t}(n.Component),X=(a(335),a(7)),H=(a(337),U.a.Text),$=U.a.Title,q=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(v.a)(this,Object(w.a)(t).call(this,e))).handleToggleRegister=function(){a.setState({showRegister:!a.state.showRegister})},a.state={email:"",password:"",passwordCheck:"",showRegister:!1,username:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmitLogin=a.handleSubmitLogin.bind(Object(j.a)(a)),a.handleSubmitRegister=a.handleSubmitRegister.bind(Object(j.a)(a)),a}return Object(C.a)(t,e),Object(R.a)(t,[{key:"handleChange",value:function(e,t){this.setState(Object(m.a)({},t,e.target.value))}},{key:"handleSubmitLogin",value:function(e){console.log("A name was submitted: "+this.state.email,this.state.password),e.preventDefault(),this.props.login(this.state.email,this.state.password)}},{key:"handleSubmitRegister",value:function(e){console.log("A name was submitted: "+this.state.email,this.state.username,this.state.password),e.preventDefault(),this.props.register(this.state.email,this.state.username,this.state.password)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("section",{className:"login__main"},r.a.createElement($,{level:1},"Welcome to Shortcut.io"),r.a.createElement(M.a,{className:"login__form"},r.a.createElement(M.a.Item,null,r.a.createElement(x.a,{className:"input",onChange:function(t){return e.handleChange(t,"email")},placeholder:"Email address",prefix:r.a.createElement(X.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),value:this.state.email||""})),this.state.showRegister&&r.a.createElement(M.a.Item,null,r.a.createElement(x.a,{className:"input",onChange:function(t){return e.handleChange(t,"username")},placeholder:"User name",prefix:r.a.createElement(X.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),value:this.state.username||""})),r.a.createElement(M.a.Item,null,r.a.createElement(x.a.Password,{className:"input",onChange:function(t){return e.handleChange(t,"password")},placeholder:"Password",prefix:r.a.createElement(X.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),value:this.state.password||""})),r.a.createElement(M.a.Item,null,!this.state.showRegister&&r.a.createElement("div",null,r.a.createElement(T.a,{onClick:this.handleSubmitLogin,className:"login__form__button",type:"primary",value:"submit"},"Sign in"),"Or ",r.a.createElement("a",{onClick:this.handleToggleRegister},"sign up now!")),this.state.showRegister&&r.a.createElement("div",null,r.a.createElement(T.a,{onClick:this.handleSubmitRegister,className:"login__form__button",type:"primary",value:"submit"},"Sign up"),"Or ",r.a.createElement("a",{onClick:this.handleToggleRegister},"sign in now!")))),r.a.createElement(H,{className:"login__main__footer"},"Shortcut.io \xa9 2019 | ",r.a.createElement("a",{href:"/imprint"},"Imprint"))),r.a.createElement("section",{className:"login__aside"}))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){"LOGGED_IN"!==a.props.sessionState||a.props.bookmarks||a.props.getBookmarks()},a.handleLogin=function(e,t){a.props.handleLogin(e,t)},a.handleRegister=function(e,t,n){a.props.handleRegister(e,t,n)},a}return Object(C.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},"LOGGED_IN"!==this.props.sessionState&&r.a.createElement(q,{login:this.handleLogin,register:this.handleRegister}),"LOGGED_IN"===this.props.sessionState&&r.a.createElement(F,{addBookmark:this.props.addBookmark,newBookmarkState:this.props.newBookmarkState,bookmarks:this.props.bookmarks,logout:this.props.handleLogout,tags:this.props.tags}))}}]),t}(n.Component);z.defaultProps={addBookmark:void 0,newBookmarkState:"UNKNOWN",bookmarks:null,getBookmarks:void 0,handleLogin:void 0,handleLogout:void 0,handleRegister:void 0,sessionState:"UNKNOWN",tags:void 0};var Y=Object(l.b)((function(e){return{bookmarks:e.Bookmarks.bookmarks,newBookmarkState:e.Bookmarks.newBookmarkState,sessionState:e.Session.state,tags:k(e)}}),(function(e){return{addBookmark:function(t){console.log("2",t),e(function(e){return function(t){t({type:"CREATE_BOOKMARK_REQUEST"});var a={description:e.description,title:e.title,url:e.url,tags:e.tags||[]};return fetch("".concat(O,"/shortcuts"),{body:JSON.stringify(a),"cache-control":"no-cache",credentials:"include",headers:{"content-type":"application/json"},method:"POST",mode:"no-cors"}).then((function(){return t({type:"CREATE_BOOKMARK_SUCCESS"})})).then((function(){return t(N())})).catch((function(e){console.log(e),t({type:"CREATE_BOOKMARK_ERROR"})}))}}(t))},getBookmarks:function(){e(N())},handleLogin:function(t,a){e(function(e,t){return function(a){a({type:"LOGIN_REQUEST"});var n={email:e,password:t};return fetch("".concat(O,"/sessions"),{body:JSON.stringify(n),"cache-control":"no-cache",credentials:"include",headers:{"content-type":"application/json"},method:"POST",mode:"no-cors"}).then((function(){return a(N())})).then((function(){return localStorage.setItem("SCIO","LOGGED_IN"),a({payload:e,type:"LOGIN_SUCCESS"});var e})).catch((function(e){return a(I(e))}))}}(t,a))},handleLogout:function(){e({type:"LOGOUT_SUCCESS"})},handleRegister:function(t,a,n){e(function(e,t,a){return function(n){n({type:"REGISTER_REQUEST"});var r={email:e,password:a,username:t};return fetch("".concat(O,"/users"),{body:JSON.stringify(r),"cache-control":"no-cache",headers:{"content-type":"application/json"},method:"POST",mode:"no-cors"}).then((function(e){return e.json()})).then((function(e){return n(function(e){return{payload:e,type:"REGISTER_SUCCESS"}}(e))})).catch((function(e){return n(I(e))}))}}(t,a,n))}}}))(z),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ee=Object(i.e)(_,Z(Object(i.a)(c.a)));ee.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{payload:e,type:"INITIALISE_SESSION"}}()),s.a.render(r.a.createElement(l.a,{store:ee},r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[162,1,2]]]);
//# sourceMappingURL=main.a07e48ca.chunk.js.map